@using Quixduell.ServiceLayer.DataAccessLayer.Model.Questions
@using Quixduell.Blazor.Shared.ControlComponents

@if (Studyset is not null)
{
    <div class="col div-container">
        <div class="container" style="padding: 0">
            <div class="row">

                <div class="col pie-chart" style="padding-right: 0;">
                    <PieChartComponent Parts="@(GetPieChartParts)" />
                </div>

                <div class="col" style="margin-left: 0.4rem; @(IsUserAdmin() ? "padding-right: 0.125em" : "")">
                    <div class="container d-flex justify-content-center" style="height: 100%; flex-direction: column; padding: 0;">
                        @foreach (var questionData in _questionData)
                        {
                            <div class="row form-group d-flex justify-content-start align-items-center align-self-auto" style="margin-top: 0.25rem; margin-bottom: 0.25rem; ">
                                <div class="col d-flex align-self-center color-circle" style="border: solid @(questionData.Color == "" ? "azure" :  "darkgray") 1px; background-color: @questionData.Color;">
                                </div>
                                <div class="col d-flex justify-content-start question-text" style="padding-right: 0;padding-left: 0.25rem;">
                                    @questionData.Title
                                </div>
                                <div class="col col-auto d-flex justify-content-end question-text" style="padding-left: 0;">
                                    @questionData.GetCount()
                                </div>
                            </div>
                        }
                    </div>
                </div>
                                

                @if (IsUserAdmin())
                {
                    <div class="col col-auto d-flex justify-content-end align-items-center" style="padding-left:0.125em; padding-right:0.25em;">
                        <AddButtonComponent OnClickAsync="@OpenAddQuestionAsync" />
                    </div>
                }

            </div>
        </div>

    </div>
}
